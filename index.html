<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<title>WebXR Start!</title>
		<style>
			body { margin: 0; }

			.vr-button,
			.xr-button {
				position: fixed;
				left: calc(50% - 50px) !important;
				bottom: 20px;
				width: 100px;
				padding: 12px 6px;
				color: rgba(255, 255, 255, 1.0);
				cursor: pointer;
				border: 1px solid rgb(255, 255, 255);
				border-radius: 4px;
				background: rgba(10, 10, 10, 0.5);
				font: 14px sans-serif;
				font-weight: bold;
				text-align: center;
				opacity: 0.5;
				outline: none;
				z-index: 999;
			}

			#loading {
				position: fixed;
				top: 0;
				left: 0;
				width: 100%;
				height: 100%;
				display: flex;
				justify-content: center;
				align-items: center;
			}
			#loading .progress {
				margin: 1.5em;
				border: 1px solid white;
				width: 50vw;
			}
			#loading .progressbar {
				margin: 2px;
				background: white;
				height: 1em;
				transform-origin: top left;
				transform: scaleX(0);
			}
		</style>
		<script type="importmap">
			{
				"imports": {
					"three": "../build/three.module.js",
					"three/addons/": "./jsm/"
				}
			}
		</script>
		<!-- Basic intro to shaders from:
		  -- https://webglfundamentals.org/webgl/lessons/webgl-how-it-works.html
		  -->
		<!-- vertex shader -->
		<script  id="vertexShader" type="x-shader/x-vertex">
			varying vec4 v_color;

			void main() {

			  vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );
			  gl_Position = projectionMatrix * mvPosition;

			  // Convert from clipspace to colorspace.
			  // Clipspace goes -1.0 to +1.0
			  // Colorspace goes from 0.0 to 1.0
			  v_color = gl_Position * 0.5 + 0.5;
			}
		</script>
		<!-- fragment shader -->
		<script  id="fragmentShader" type="x-shader/x-fragment">

			varying vec4 v_color;

			void main() {
			  // gl_FragColor = vec4(1, 0, 0, 1);
			  // gl_FragColor = vec4(vNormal * 0.5 + 0.5, 1);
			  gl_FragColor = v_color;
			}
		</script>
	</head>
	<body>
		<script type="module" src="src/main.js"></script>
	</body>
</html>
